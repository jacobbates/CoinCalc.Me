/*
  Â© CoinCalc.Me | v1.1 | https://github.com/jacobbates/CoinCalc.Me
*/
$(document).ready(function(){function a(a,b){$(a).tooltip("hide").attr("data-original-title",b).tooltip("show")}function f(a){setTimeout(function(){$(a).tooltip("hide")},1E3)}$.urlParam=function(a){a=(new RegExp("[?&]"+a+"=([^&#]*)")).exec(window.location.href);return null==a?null:a[1]||0};var b=$.urlParam("c"),d=$.urlParam("a"),e=$.urlParam("bp"),c=$.urlParam("bf"),g=$.urlParam("sp"),h=$.urlParam("sf");b&&$("#coin_name").val(decodeURIComponent(b));$.isNumeric(d)&&$("#buy_amount").val(d);$.isNumeric(e)&&
$("#buy_price").val(e);$.isNumeric(c)&&$("#buy_fees").val(c);$.isNumeric(g)&&$("#sell_price").val(g);$.isNumeric(h)&&$("#sell_fees").val(h);updateCalc();$(".btn-copy").tooltip({trigger:"click",placement:"top"});b=new Clipboard(".btn-copy");b.on("success",function(b){a(b.trigger,"Copied!");f(b.trigger)});b.on("error",function(b){a(b.trigger,"Failed!");f(b.trigger)})});
$("#calc_method").on("change",function(){var a=$("#calc_method").val();"Amount+Price"==a?(a=1*$("#buy_amount").val(),$("#buy_amount").remove(),$(".buy-amount").append('<input id="buy_amount" class="form-control bg-yellow" type="number" value="'+parseFloat(a.toFixed(6))+'">'),a=1*$("#buy_total").val(),$("#buy_total").remove(),$(".buy-total").append('<input id="buy_total" class="form-control" type="input" value="$'+a.toFixed(2)+'" disabled>'),a=$("#buy_price").val().replace("$",""),a*=1,$("#buy_price").remove(),
$(".buy-price").append('<input id="buy_price" class="form-control bg-yellow" type="number" value="'+parseFloat(a.toFixed(6))+'">')):"Price+Total"==a?(a=1*$("#buy_amount").val(),$("#buy_amount").remove(),$(".buy-amount").append('<input id="buy_amount" class="form-control" type="number" value="'+parseFloat(a.toFixed(6))+'" disabled>'),a=$("#buy_total").val().replace("$",""),a*=1,$("#buy_total").remove(),$(".buy-total").append('<input id="buy_total" class="form-control bg-yellow" type="number" value="'+
a.toFixed(2)+'">'),a=$("#buy_price").val().replace("$",""),a*=1,$("#buy_price").remove(),$(".buy-price").append('<input id="buy_price" class="form-control bg-yellow" type="number" value="'+parseFloat(a.toFixed(6))+'">')):"Amount+Total"==a&&(a=1*$("#buy_amount").val(),$("#buy_amount").remove(),$(".buy-amount").append('<input id="buy_amount" class="form-control bg-yellow" type="number" value="'+parseFloat(a.toFixed(6))+'">'),a=$("#buy_total").val().replace("$",""),a*=1,$("#buy_total").remove(),$(".buy-total").append('<input id="buy_total" class="form-control bg-yellow" type="number" value="'+
a.toFixed(2)+'">'),a=1*$("#buy_price").val(),$("#buy_price").remove(),$(".buy-price").append('<input id="buy_price" class="form-control" type="input" value="$'+parseFloat(a.toFixed(6))+'" disabled>'))});
function updateCalc(){var a=$("#calc_method").val(),f=1*$("#buy_fees").val(),b=0;if("Amount+Price"==a){var d=1*$("#buy_amount").val();var e=1*$("#buy_price").val();var c=d*e;var g=f/100*c;b=c+g;$("#buy_total").val("$"+b.toFixed(2))}else"Price+Total"==a?(b=1*$("#buy_total").val(),c=b/(1+f/100),g=b-c,e=1*$("#buy_price").val(),d=c/e,$("#buy_amount").val(parseFloat(d.toFixed(6)))):"Amount+Total"==a&&(b=1*$("#buy_total").val(),c=b/(1+f/100),g=b-c,d=1*$("#buy_amount").val(),e=c/d,$("#buy_price").val("$"+
parseFloat(e.toFixed(6))));$("#buy_value").val("$"+c.toFixed(2));$("#buy_txcost").val("$"+g.toFixed(2));a=d;f=1*$("#sell_price").val();d=a*f;c=1*$("#sell_fees").val();c=c/100*d;g=d-c;e=(f-e)/e*100;b=g-b;$("#sell_amount").val(parseFloat(a.toFixed(6)));$("#sell_value").val("$"+d.toFixed(2));$("#sell_txcost").val("$"+c.toFixed(2));$("#sell_total").val("$"+g.toFixed(2));$("#value_change").val(e.toFixed(2)+"%");$("#profit_loss").val("$"+b.toFixed(2));$("#sell_price").val(parseFloat(f.toFixed(6)));updateURL()}
$(".estimator").on("keyup input change","input[type=number], #coin_name",function(){updateCalc()});function updateURL(){var a=$("#buy_amount").val(),f=$("#buy_price").val(),b=$("#buy_fees").val(),d=$("#sell_price").val(),e=$("#sell_fees").val(),c=$("#coin_name").val();a="https://coincalc.me/?c="+encodeURIComponent(c)+"&a="+a+"&bp="+f+"&bf="+b+"&sp="+d+"&sf="+e;$("#save_url").val(a)};
