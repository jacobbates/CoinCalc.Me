/*
  Â© CoinCalc.Me | v1.0 | https://github.com/jacobbates/CoinCalc.Me
*/
$(document).ready(function(){function a(a,b){$(a).tooltip("hide").attr("data-original-title",b).tooltip("show")}function f(a){setTimeout(function(){$(a).tooltip("hide")},1E3)}$.urlParam=function(a){a=(new RegExp("[?&]"+a+"=([^&#]*)")).exec(window.location.href);return null==a?null:a[1]||0};var c=$.urlParam("c"),d=$.urlParam("a"),e=$.urlParam("bp"),b=$.urlParam("bf"),g=$.urlParam("sp"),h=$.urlParam("sf");c&&$("#coin_name").val(decodeURIComponent(c));$.isNumeric(d)&&$("#buy_amount").val(d);$.isNumeric(e)&&
$("#buy_price").val(e);$.isNumeric(b)&&$("#buy_fees").val(b);$.isNumeric(g)&&$("#sell_price").val(g);$.isNumeric(h)&&$("#sell_fees").val(h);updateCalc();$(".btn-copy").tooltip({trigger:"click",placement:"top"});c=new Clipboard(".btn-copy");c.on("success",function(b){a(b.trigger,"Copied!");f(b.trigger)});c.on("error",function(b){a(b.trigger,"Failed!");f(b.trigger)})});
$("#calc_method").on("change",function(){var a=$("#calc_method").val();"Amount+Price"==a?($("#buy_amount").addClass("bg-yellow"),$("#buy_amount").prop("disabled",!1),a=1*$("#buy_total").val(),$("#buy_total").remove(),$(".buy-total").append('<input id="buy_total" class="form-control" type="input" value="$'+a.toFixed(2)+'" disabled>')):"Price+Total"==a&&($("#buy_amount").removeClass("bg-yellow"),$("#buy_amount").prop("disabled",!0),a=$("#buy_total").val().replace("$",""),a*=1,$("#buy_total").remove(),
$(".buy-total").append('<input id="buy_total" class="form-control bg-yellow" type="number" value="'+a.toFixed(2)+'">'))});
function updateCalc(){var a=$("#calc_method").val(),f=1*$("#buy_price").val(),c=1*$("#buy_fees").val(),d=0;if("Amount+Price"==a){var e=1*$("#buy_amount").val();var b=e*f;var g=c/100*b;d=b+g;$("#buy_total").val("$"+d.toFixed(2))}else"Price+Total"==a&&(d=1*$("#buy_total").val(),b=d/(1+c/100),g=d-b,e=b/f,$("#buy_amount").val(parseFloat(e.toFixed(6))));$("#buy_value").val("$"+b.toFixed(2));$("#buy_txcost").val("$"+g.toFixed(2));a=e;c=1*$("#sell_price").val();e=a*c;b=1*$("#sell_fees").val();b=b/100*e;
g=e-b;var h=(c-f)/f*100;d=g-d;$("#sell_amount").val(parseFloat(a.toFixed(6)));$("#sell_value").val("$"+e.toFixed(2));$("#sell_txcost").val("$"+b.toFixed(2));$("#sell_total").val("$"+g.toFixed(2));$("#value_change").val(h.toFixed(2)+"%");$("#profit_loss").val("$"+d.toFixed(2));$("#buy_price").val(parseFloat(f.toFixed(6)));$("#sell_price").val(parseFloat(c.toFixed(6)));updateURL()}$(".estimator").on("keyup input change","input[type=number], #coin_name",function(){updateCalc()});
function updateURL(){var a=$("#buy_amount").val(),f=$("#buy_price").val(),c=$("#buy_fees").val(),d=$("#sell_price").val(),e=$("#sell_fees").val(),b=$("#coin_name").val();a="https://coincalc.me/?c="+encodeURIComponent(b)+"&a="+a+"&bp="+f+"&bf="+c+"&sp="+d+"&sf="+e;$("#save_url").val(a)};
