/*
  Â© CoinCalc.Me | v1.1 | https://github.com/jacobbates/CoinCalc.Me
*/
$(document).ready(function(){function a(a,b){$(a).tooltip("hide").attr("data-original-title",b).tooltip("show")}function e(a){setTimeout(function(){$(a).tooltip("hide")},1E3)}$.urlParam=function(a){a=(new RegExp("[?&]"+a+"=([^&#]*)")).exec(window.location.href);return null==a?null:a[1]||0};var b=$.urlParam("c"),c=$.urlParam("a"),f=$.urlParam("bp"),d=$.urlParam("bf"),g=$.urlParam("sp"),h=$.urlParam("sf");b&&$("#coin_name").val(decodeURIComponent(b));$.isNumeric(c)&&$("#buy_amount").val(c);$.isNumeric(f)&&
$("#buy_price").val(f);$.isNumeric(d)&&$("#buy_fees").val(d);$.isNumeric(g)&&$("#sell_price").val(g);$.isNumeric(h)&&$("#sell_fees").val(h);updateCalc();$(".btn-copy").tooltip({trigger:"click",placement:"top"});b=new Clipboard(".btn-copy");b.on("success",function(b){a(b.trigger,"Copied!");e(b.trigger)});b.on("error",function(b){a(b.trigger,"Failed!");e(b.trigger)})});
$("#calc_method").on("change",function(){var a=$("#calc_method").val();"Amount+Price"==a?(a=1*$("#buy_amount").val(),$("#buy_amount").remove(),$(".buy-amount").append('<input id="buy_amount" class="form-control bg-yellow" type="number" value="'+parseFloat(a.toFixed(6))+'">'),a=1*$("#buy_total").val(),$("#buy_total").remove(),$(".buy-total").append('<input id="buy_total" class="form-control" type="input" value="$'+a.toFixed(2)+'" disabled>'),a=$("#buy_price").val().replace("$",""),a*=1,$("#buy_price").remove(),
$(".buy-price").append('<input id="buy_price" class="form-control bg-yellow" type="number" value="'+parseFloat(a.toFixed(6))+'">')):"Price+Total"==a?(a=1*$("#buy_amount").val(),$("#buy_amount").remove(),$(".buy-amount").append('<input id="buy_amount" class="form-control" type="number" value="'+parseFloat(a.toFixed(6))+'" disabled>'),a=$("#buy_total").val().replace("$",""),a*=1,$("#buy_total").remove(),$(".buy-total").append('<input id="buy_total" class="form-control bg-yellow" type="number" value="'+
a.toFixed(2)+'">'),a=$("#buy_price").val().replace("$",""),a*=1,$("#buy_price").remove(),$(".buy-price").append('<input id="buy_price" class="form-control bg-yellow" type="number" value="'+parseFloat(a.toFixed(6))+'">')):"Amount+Total"==a&&(a=1*$("#buy_amount").val(),$("#buy_amount").remove(),$(".buy-amount").append('<input id="buy_amount" class="form-control bg-yellow" type="number" value="'+parseFloat(a.toFixed(6))+'">'),a=$("#buy_total").val().replace("$",""),a*=1,$("#buy_total").remove(),$(".buy-total").append('<input id="buy_total" class="form-control bg-yellow" type="number" value="'+
a.toFixed(2)+'">'),a=1*$("#buy_price").val(),$("#buy_price").remove(),$(".buy-price").append('<input id="buy_price" class="form-control" type="input" value="$'+parseFloat(a.toFixed(6))+'" disabled>'))});
function updateCalc(){var a=$("#calc_method").val(),e=1*$("#buy_fees").val(),b=0;if("Amount+Price"==a){var c=1*$("#buy_amount").val();var f=1*$("#buy_price").val();var d=c*f;var g=e/100*d;b=d+g;$("#buy_total").val("$"+b.toFixed(2))}else"Price+Total"==a?(b=1*$("#buy_total").val(),d=b/(1+e/100),g=b-d,f=1*$("#buy_price").val(),c=d/f,$("#buy_amount").val(parseFloat(c.toFixed(6)))):"Amount+Total"==a&&(b=1*$("#buy_total").val(),d=b/(1+e/100),g=b-d,c=1*$("#buy_amount").val(),f=d/c,$("#buy_price").val("$"+
parseFloat(f.toFixed(6))));$("#buy_value").val("$"+d.toFixed(2));$("#buy_txcost").val("$"+g.toFixed(2));a=c;g=1*$("#sell_price").val();e=a*g;c=1*$("#sell_fees").val();c=c/100*e;d=e-c;f=(g-f)/f*100;b=d-b;$("#sell_amount").val(parseFloat(a.toFixed(6)));$("#sell_value").val("$"+e.toFixed(2));$("#sell_txcost").val("$"+c.toFixed(2));$("#sell_total").val("$"+d.toFixed(2));$("#value_change").val(f.toFixed(2)+"%");$("#profit_loss").val("$"+b.toFixed(2));updateURL()}
$(".estimator").on("keyup input change","input[type=number], #coin_name",function(){updateCalc()});function updateURL(){var a=1*$("#buy_amount").val(),e=1*$("#buy_price").val(),b=1*$("#buy_fees").val(),c=1*$("#sell_price").val(),f=1*$("#sell_fees").val(),d=$("#coin_name").val();e=parseFloat(e.toFixed(6));c=parseFloat(c.toFixed(6));a="https://coincalc.me/?c="+encodeURIComponent(d)+"&a="+a+"&bp="+e+"&bf="+b+"&sp="+c+"&sf="+f;$("#save_url").val(a)};
